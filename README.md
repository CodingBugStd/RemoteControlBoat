# 机械创新大赛电路以及程序

## 1 遥控器

### 1.1 硬件选型

- 手柄状PCB
	
	- 以2.54排针和2.54排针母座连接各个模块
	
- 主控芯片

	stm32f103c8t6最小系统(16mm)

- 通讯芯片

  NRF24L01(模块) -> 2~3.6V 20~130mA

  硬件SPI通讯 -> 使用主控SPI1通讯控制器(PA6 PA7)

- 显示

  - OLED12864 - 4PinSPI - SSD1306驱动IC

  	软件SPI通讯

  - 发光二极管若干

- 按键 x n

- Type-C 串口通讯接口

	- CH340N(自带晶振,8脚贴片封装) -> 串口1
	- Type-C 16P母座
	- sh1.25 4Pin 卧式母座 -> 串口2
	
- 遥杠 2 个

  *3.3V供电*

  2通道3.3V10k模拟信号,1通道5V开关信号

- 无源蜂鸣器

	需要配套三极管

- 电源

	AMS1117 - 3.3 x 1

- 电池

	中顺芯 5V 2000mAh 聚合物锂电池(型号:564462)

	带电池保护,MicroUSB母头充电,DC5.5/2.1公头放电

	最大电流2000mA

	64mm x 45mm x 11mm

### 1.2 PCB规划

#### 1.2.1 电源模块

​	5V供电 -> 直接使用5V升压锂电池(DC5.5/2.1)

​	3.3V供电 -> 使用AMS1117-3.3芯片 5v->3.3v (MAX:1000mA)

​	电池充电 -> 使用电池本身microUSB接口充电

#### 1.2.2 主控芯片

​	使用stm32f103c8t6最小系统板,使用排针连接至PCB

复用功能使用列表

- USART1 -> Type-C串口
- USART2 -> 裸串口
- SPI1 -> nRF24通讯 (MISO:PA6 MOSI:PA7)
	- 软件片选
	- MSB位为第一个发送的位
	- 波特率16分频 4.5MHz
- ADC1 -> 摇杆4通道模拟量检测
- SWD